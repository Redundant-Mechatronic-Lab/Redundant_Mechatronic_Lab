<!-- Projects Section -->
<section id="projects" class="content-section text-center">
  <div class="projects-section">
    <div class="container">
      <div class="col-lg-12">
        <h2>Ongoing Projects</h2>
        
        <div class="case-study-gallery">
          {% for project in site.data.projects %}
          <div class="project-wrapper">
            <!-- Project Thumbnail (Click to Expand) -->
            <div class="project-thumbnail case-study study{{ forloop.index }}" 
                 data-index="{{ forloop.index }}" 
                 onclick="toggleProjectDetails({{ forloop.index }})">
              <img src="{{ project.image_thumbnail }}" alt="{{ project.name }}">
              <div class="case-study__overlay">
                <h2 class="case-study__title">{{ project.name }}</h2>
                <span class="case-study__link">Click to Expand</span>
              </div>
            </div>

            <!-- Project Details (Hidden Initially) -->
            <div id="project-details-{{ forloop.index }}" class="project-details" style="display: none;">
              <h3>{{ project.name }}</h3>
              <img id="expanded-image-{{ forloop.index }}" src="{{ project.image_expanded }}" alt="{{ project.name }}">
              <p>{{ project.details }}</p>
              
              <ul>
                {% for spec in project.specifications %}
                <li><strong>{{ spec.label }}:</strong> {{ spec.value }}</li>
                {% endfor %}
              </ul>
              
              <button onclick="toggleProjectDetails({{ forloop.index }})" class="close-details">Close</button>
            </div>
          </div>
          {% endfor %}
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  var projectsData = {{ site.data.projects | jsonify }};
</script>